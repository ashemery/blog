---
title: "ربط المستخدمين بمجلداتهم الرئيسية في ال ftp من خلال chroot"
date: 2006-12-24 01:01:01 -0500
categories: ["Linux Security"]
permalink: "/2006/12/24/chrooting-ftp-users-directory/"
reading_time: 1
---

السلام عليكم ورحمة الله وبركاته …

الحين لديك سيرفر وعليه خدمة الــ vsftpd وتريد المستخدمين الموجودين عندك أن يشبكوا على هذا السيرفر ولكن يدخلون على مجلداتهم الرئيسية … يعني مثلا المستخدم user1 لما يشبك يدخله السيرفر الى home/user1/ ولو كان المستخدم إسمه ftpuser سوف يدخله على home/ftpuser/ وهكذا … عليك بعمل التالي:

الأن أعمل التالي:

vi /etc/vsftpd/vsftpd.conf

قم بحذف علامة # من أمام السطر التالي:

chroot_local_user=YES

وتأكد إنه مكتوب YES وليس NO … لكي يفعل خاصية ال chroot … والتي ستقوم بمنع المستخدم من الخروج خارج مجلده الرئيسي home/username/ … أي لو دخل على السيرفر الــ ftp عندك وحاول يعمل مثلا:

cd /usr أو حتى cd /

فسيمنعك الــ ftp server من ذلك … ويقول لك غير مصرح لك عمل التغيير للمجلد …

الآن قم بإعادة تشغيل السيرفر كالتالي:

/etc/init.d/vsftpd restart

واصبح لديك الحين سيرفر ftp يسمح للمستخدمين الدخول على مجلداتهم فقط ولن يتمكنوا من دخول / أو root/ أو tmp/ أو أي مجلد آخر خارج مجلد ذلك المستخدم الرئيسي …

أنتظروني في الموضوع القادم حول ربط المستخدمين في مجلد معين …

سأكتبه قريبا …

أخوكم B!n@ry …
