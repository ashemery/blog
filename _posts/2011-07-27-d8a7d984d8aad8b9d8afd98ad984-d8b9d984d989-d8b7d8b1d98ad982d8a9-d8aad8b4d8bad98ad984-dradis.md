---
title: "التعديل على طريقة تشغيل Dradis"
date: 2011-07-27 01:46:17 -0500
categories: ["Development", "OSINT", "PenTest", "Security"]
tags: ["BackTrack5", "bundle", "daemonize", "Dradis", "exec", "Framework", "gem", "gems", "PATH", "rails", "webrick"]
permalink: "/2011/07/27/%25d8%25a7%25d9%2584%25d8%25aa%25d8%25b9%25d8%25af%25d9%258a%25d9%2584-%25d8%25b9%25d9%2584%25d9%2589-%25d8%25b7%25d8%25b1%25d9%258a%25d9%2582%25d8%25a9-%25d8%25aa%25d8%25b4%25d8%25ba%25d9%258a%25d9%2584-dradis/"
reading_time: 3
---
هيكل [Dradis](http://dradisframework.org/) حين تقوم بتشغيله بالطريقة الإعتيادية يقوم بالعمل والتنصت على المنفذ 3004 ولكن على المدخل أو الوصلة Interface الداخلي 127.0.0.1 وبالتالي إذا كنت تريد مشاركته مع باقي فريق عملك أو إن كنت تريد إستعماله من مكان آخر فلن تتمكن من ذلك … بالنسبة لي أشغله على نظام BackTrack والموجود على بيئة إفتراضية وأستعمله من خلال نظامي أو جهازي الرئيسي وبالتالي يهمني إنني أستطيع الوصول أليه من خلال الشبكة وليس من خلال نفس الجهاز بشكل مباشر …

لكي نتمكن من عمل ذلك، كل الذي عليك فعله هو التعديل على طريقة تشغيل Dradis وتعديل الخيارات التي يعمل بها … هناك طريقتان لعمل ذلك …

الطريقة الأولى: من خلال التعديل على سطر الأوامر (لا تعمل هذه الطريقة على BackTrack5)

مثلا نريد تشغيله على المنفذ 8888 وعلى عنوان الوصلة 192.168.1.111 … كل الذي علينا القيام به هو من داخل مجلد Dradis تنفيذ الأمر التالي:

```
ruby script\rails server -b 192.168.1.111 -p 8888
```

في BackTrack5 كون هذه الطريقة لا تعمل، ممكن التعديل على سكربت بدأ التشغيل start.sh وإضافة الخيارات المطلوبة لها كما في الأسفل:

غيير السطر:

```
bundle exec rails server webrick
```

الى التالي:

```
bundle exec rails server webrick -d -b 192.168.1.111 -p 8888
```

هذه المرة أضفت خيار d وذلك لكي يشغل Dradis Framework على شكل خدمة (daemon) …

الطريقة الثانية: هي من خلال التعديل المباشر على ملف rails والتعديل على خياراته كما في الأسفل:

هناك المتغيير Port والمتغيير Host لجعل الهيكل يعمل على منفذ ومدخل معيين … وكذلك لجعل الهيكل يعمل بشكل خدمة، علينا التعديل على المتغيير daemonize … إذن كل ما علينا فعله هو جعلهم كالتالي:

```
:Port => 8888, 
:Host => "192.168.1.111", 
:daemonize => true,
```

وأحفظ الملف وقم بإعادة تشغيل Dradis وستتمكن من الوصول اليه عبر الرابط: https://192.168.1.111:8888

لمزيد من المعلومات، يرجى زيارة الرابط التالي: [هنا](http://dradisframework.org/configure.html#server)

بالمناسبة إن قمت بتشغيل Dradis وحصلت على المشكلة التالية:

```
bundle: command not found
```

فالحل بسيط إن شاء الله … كل الذي عليك فعله هو التالي:

```
gem install bundler
```

ومن ثم تأكد من إعدادات جهازك بواسطة السكربت verify.sh … بالغالب إن ظهرت لك المشكلة اعلاه فإن عليك أن تضيف مسار bundle الى المسارات التي تستعملها الـ shell لديك من خلال فتح ملف .bashrc وإضافة المسار الصحيح الى المتغيير PATH … بالنسبة لي كان الحل كالتالي:

```
export PATH=$PATH:/etc/alternatives/gem-bin:/var/lib/gems/1.9.2/bin/bundle
```

بعد ذلك حدث المتغييرات إما بواسطة source او بواسطة النقطة “.” … وربما تحتاج الى تنفيذ الأمر الذي بالأسفل بداخل مجلد server:

```
/var/lib/gems/1.9.2/bin/bundle install
```

للنقاش أو الاستفسار، يرجى زيارات الموضوع التالي: [أضغط هنا](http://www.linuxac.org/forum/showthread.php?52997)

بالتوفيق للجميع …
