---
title: "شوية netstat :)"
date: 2009-01-24 21:18:15 -0500
categories: ["Networks", "Software/Tools"]
tags: ["lsof", "netstat", "nmap"]
permalink: "/2009/01/24/netstat-crumbs/"
reading_time: 2
---

السلام عليكم ورحمة الله وبركاته

أحد الأعداد الخاصة بمجلة مجتمع لينوكس العربي لا أذكر هل هو الثالث أم الرابع لم أشارك فيه وذلك لأنني نسيت أن أشارك ::18 طبعاً قد يرى البعض هذه الحالة غريبة أو لا يصدقها لكني وبالأدلة أثبت لأخوة وقتها بإني كنت صادقاً بكلامي وإني نسيت المشاركة ولم أتعمد الغياب عنها … فبالنسبة لي الكتابة والمشاركة ممتعة وأستفيد منها كثيراً … خاصة وإني مقتنع يقيناً بالحكمة “زكاة العلم نشره” … هذا الموضوع بالإضافة الى مقدمة للأداة lsof والأداة nmap كنت قد كتبتهم على الورق واليوم أريد تلف هذا الورق فكان لابد وان أقوم بنقلهم من الورق الى المدونة … وعليه نبدأ بالأداة الأولى netstat …

netstat هي عبارة عن أداة من خلالها تقوم بطباعة جميع الإتصالات الشبكية، وجداول التوجيه Routing Tables والإحصائيات الخاصة بالمنافذ … وعليه فإنها في جنو/لينوكس تقوم بطباعة المعلومات الخاصة بالنظام الداخلي للأمور الشبكية …

تأتي الأداة مع الحزمة net-tools … وجميع المستخدمين قادرين على تشغيل الأمر وليس شرط تشغيله من قبل المستخدم root … ولكن عند تشغيله من خلال المستخدم العادي فإنه سيعطيك نواتج مختلفة (الى حد ما) عن تلك التي لو نفذته من خلال المستخدم صاحب الصلاحيات (كالمستخدم root) …

لنقوم ببعض الأمثلة البسيطة … لعرض جميع الخدمات التي تتنصت لإستلام إتصال بواسطة البروتوكول TCP على المنافذ … قم بعمل التالي:

```
netstat -ntlp
```

الخيارات:

n أي يقوم بعرض النواتج بنظام الأرقام وليس الأسماء …

t عرض المقابس من نوع TCP …

l يعني list أي أعرض …

p البرامج التي تقوم بالتنصت …

الآن لنأخذ مثال يقوم بعرض جميع الخدمات التي تتنصت لإستلام إتصال بواسطة البروتوكول UDP على المنافذ … عندها ننفذ التالي:

```
netstat -nulp
```

هنا كل الذي أختلف هو الخيار u والذي يعني عرض المقابس التي نوعها UDP … بالمناسبة المقابس تعني Socket …

أما لو قمنا بتجربة الأمر:

```
netstat -ant
```

ستعرض لنا الإتصالات التي هي حالياً متصلة بالنظام … للتأكد مثلاً قم بالإتصال على جهاز آخر بواسطة لنقل خدمة ssh وبعدها نفذ الأمر ستجد بإن الـ socket مفتوح حالياً ومتصل على المنفذ 22 بسبب خدمة ssh …

طبعاً الكلمة ESTABLISHED تعطينا إيعاز بإنه هناك إتصال Inbound من خالرج الى الداخل وإتصال Outbound إتصال من الداخل الى الخارج … بالإضافة الى ذلك ومن خلال المنافذ التي يعمل عليها جهازنا عليها Listen نتمكن من معرفة هل هذا الإتصال قادم من الخارج أم من عندنا الى طرف آخر …

كما ذكرت هذه مجرد خربشة غير مكتملة حتى وسأكمل كتابة البقية التي تخص lsof و nmap يوم غد :(

دمتم بود …
